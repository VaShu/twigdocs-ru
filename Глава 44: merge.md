Фильтр ```merge``` объединяет один массив с другим:

```twig
{% set values = [1, 2] %}

{% set values = values|merge(["apple", "orange"]) %}

{# массив values теперь содержит следующие элементы [1, 2, "apple", "orange"] #}
```

Новые значение добавляются после существующих.

Фильтр ```merge``` так же работает и с хэшами:

```twig
{% set items = {'apple': 'fruit', 'orange': 'fruit', 'volga': 'unknown'} %}

{% set items = items|merge({'volga': 'car', 'renault': 'car'}) %}

{# массив items теперь содержит следующие элементы {'apple': 'fruit', 'orange': 'fruit', 'volga': 'car', 'renault': 'car'} #}
```

Для хэшей процесс объединения происходит по ключам: если ключ не существует - происходит добавление, если ключ существует - происходит перезапись.

Если вам необходимо убедиться, что определенные ключи содержат значения по-умолчанию, то достаточно будет изменить последовательность объединяемых массивов / хешей:

```twig
{% set items = {'apple': 'fruit', 'orange': 'fruit'} %}
{% set items = {'apple': 'unknown'}|merge(items) %}

{# items содержит {'apple': 'fruit', 'orange': 'fruit'} #}
```

Twig использует PHP-функцию ```array_merge```. Есть поддержка объектов реализующих интерфейс ```Traversable``` через преобразование к массивам.
