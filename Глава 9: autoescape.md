
Вне зависимости от того активно ли автоматическое экранирование или нет, вы можете отметить определенный участок шаблона и установить для него правило экранирования с помощью тега ```autoescape```:

```twig
{% autoescape %}
  Всё в этом блоке будет автоматически экранировано с использованием стратегии HTML.
{% endautoescape %}

{% autoescape 'html' %}
  Всё в этом блоке будет автоматически экранировано с использованием стратегии HTML.
{% endautoescape %}

{% autoescape 'js' %}
  Всё в этом блоке будет автоматически экранировано с использованием стратегии JS.
{% endautoescape %}

{% autoescape false %}
  Всё в этом блоке будет выведено в исходном виде (без экранирования).
{% endautoescape %}
```

При активном режиме экранирования, все переменные автоматически подвергаются преобразованию, кроме тех, которые явным образом обозначены как безопасные:

```twig
{% autoescape %}
  {{ safe_value|raw }}
{% endautoescape %}
```

Функции, которые возвращают шаблоны (например, макросы), всегда возвращают безопасную разметку.

Twig достаточно сообразителен, чтобы не проводить экранирование одной переменной два раза.

Twig не экранирует статичные выражения:

```twig
{% set hello = "<strong>Hello</strong>" %}
{{ hello }}
{{ "<strong>world</strong>" }}
```

Отобразится следующим образом: "<strong>Hello</strong> **world**".

В главе для разработчиков будут даны подробности о том, как и когда применяется автоматическое экранирование.
